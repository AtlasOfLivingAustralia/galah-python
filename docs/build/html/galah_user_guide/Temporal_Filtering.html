
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Temporal filtering &#8212; Galah 0.12.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/extra.css?v=bc76f7e5" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/extra.css?v=bc76f7e5" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=61ccb1f1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'galah_user_guide/Temporal_Filtering';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Docs" href="../apidocs/galah.html" />
    <link rel="prev" title="Spatial filtering" href="Spatial_Filtering.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Galah 0.12.0 documentation - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Galah 0.12.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Galah User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../apidocs/galah.html">
                        API Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../authors/index.html">
                        Authors
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../cheatsheet/index.html">
                        Cheat Sheet
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/AtlasOfLivingAustralia/galah_python" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Galah User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../apidocs/galah.html">
                        API Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../authors/index.html">
                        Authors
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../cheatsheet/index.html">
                        Cheat Sheet
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/AtlasOfLivingAustralia/galah_python" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="Getting_Started.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Choosing_Atlas.html">Choosing an Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="Download_Data.html">Download Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Look_Up_Info.html">Look Up Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="Narrow_Results.html">Narrow Results</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Advanced.html">Advanced</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Taxonomic_Filtering.html">Taxonomic Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="Spatial_Filtering.html">Spatial filtering</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Temporal filtering</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Galah User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="Advanced.html" class="nav-link">Advanced</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Temporal filtering</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="temporal-filtering">
<span id="id1"></span><h1>Temporal filtering<a class="headerlink" href="#temporal-filtering" title="Link to this heading">#</a></h1>
<p>Adapted from <a class="reference external" href="galah.ala.org.au/R/articles/temporal_filtering.html">the Temporal Filtering galah-R article</a>.</p>
<p><em>Callum Waite, Shandiya Balasubramaniam, Amanda Buyan</em></p>
<p>Queries to the ALA will almost always require some form of temporal filtering. It is important
to know how these types of data are stored in the ALA and how we can query them to obtain desired
filters.</p>
<p>The ALA database possesses numerous date and time fields that relate to each observation. Here we
provide descriptions of each of these fields and how they are best used to obtain specific queries.
Ultimately, there are two ways users can filter temporal queries:</p>
<ul class="simple">
<li><p>filter using pre-existing/defined parameters, such as specific years or months</p></li>
<li><p>filter within a bespoke date and/or time range</p></li>
</ul>
<p>All temporal filtering is conducted using the <code class="docutils literal notranslate"><span class="pre">filters</span></code> argument in <code class="docutils literal notranslate"><span class="pre">atlas_counts()</span></code>,
<code class="docutils literal notranslate"><span class="pre">atlas_media()</span></code>, <code class="docutils literal notranslate"><span class="pre">atlas_occurrences()</span></code> and <code class="docutils literal notranslate"><span class="pre">atlas_species()</span></code>. All temporal fields described
below can be queried for exact matches (<code class="docutils literal notranslate"><span class="pre">=</span></code>), greater/less than (<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>) or greater/less than or
equal to (<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>). Queries for multiple fields or multiple queries of the same field can be
combined in the one <code class="docutils literal notranslate"><span class="pre">filters</span></code> call in order to obtain filters on time windows.</p>
<section id="year-month-and-day">
<h2>Year, Month and Day<a class="headerlink" href="#year-month-and-day" title="Link to this heading">#</a></h2>
<p>The ALA contains in-built year, month and day fields for every record. These are queried as
numeric fields (i.e. July = 7) and can be used for quick data exploration and filtering. These
fields are most useful when the date limits of a query can be easily defined by year, month
and/or day.</p>
<p>For instance, we can get monthly counts of amphibians from 2021 using the year and month fields.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: " ";
}
</style><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">galah</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">galah</span><span class="o">.</span><span class="n">atlas_counts</span><span class="p">(</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">taxa</span><span class="o">=</span><span class="s2">&quot;Amphibia&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">filters</span><span class="o">=</span><span class="s2">&quot;year=2021&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">group_by</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">expand</span><span class="o">=</span><span class="kc">False</span></span>
<span class="prompt1"><span class="o">...</span> <span class="p">)</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    month  count
0       1  22344
1       2  16547
2       3  17951
3       4   7788
4       5   6013
5       6   6961
6       7   8949
7       8  18745
8       9  27555
9      10  36674
10     11  83748
11     12  36619
</pre></div>
</div>
<p>It is also important to observe that the outputted month column is of type character even though
the values are numeric. This is the case for each of the year, month and day fields. However,
they can be queried as either numeric or character values within <code class="docutils literal notranslate"><span class="pre">filters</span></code>.</p>
<p>The other important fact about these fields when queried in <code class="docutils literal notranslate"><span class="pre">filters</span></code> is their independence;
they cannot be used to query complex windows between two dates because the day and month filters
are applied universally.</p>
<p>For instance, consider the native perennial Australian wildflower <em>Chamaescilla corymbosa</em>, whose
known growth and flowering times are from August–October. We might be interested in the number
of records for this species in the first week of spring (i.e. September) in each of the last 10
years. The following query does not provide all results between 1/9/2013 and 7/9/2023. Rather,
it will only return results that fall within all 3 windows at once.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">galah</span><span class="o">.</span><span class="n">atlas_counts</span><span class="p">(</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">taxa</span><span class="o">=</span><span class="s2">&quot;Chamaescilla corymbosa&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">filters</span><span class="o">=</span><span class="p">[</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;year&gt;=2013&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;year&lt;=2023&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;month=9&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;day&gt;=1&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;day&lt;=7&quot;</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="p">],</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">group_by</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">expand</span><span class="o">=</span><span class="kc">False</span></span>
<span class="prompt1"><span class="o">...</span> <span class="p">)</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    year  count
0   2013      8
1   2014     15
2   2015      8
3   2016      7
4   2017      1
5   2018      9
6   2019      6
7   2020     20
8   2021     36
9   2022     26
10  2023     56
</pre></div>
</div>
</section>
<section id="occurrence-dates">
<h2>Occurrence dates<a class="headerlink" href="#occurrence-dates" title="Link to this heading">#</a></h2>
<p>For a more bespoke way to query exact dates of records, users can use the eventDate field. This
field contains the exact date and time information of records and enables specific time windows
to be queried easily. The only caveat is that the time/date must be provided in a specific format
to <code class="docutils literal notranslate"><span class="pre">filters</span></code> for the ALA query to work.</p>
<p>The required format of dates in eventDate is the ISO 8601 International Date Standard format.
This requires dates and times to be of the form “YYYY-MM-DDTHH:MM:SSZ”. Note that the T in the
middle should be the actual letter “T” to delimit the date and time components, while the “Z”
officially denotes that the time should be queried as UTC (Greenwich Meridian) time. Timezones
can be confusing at the best of times, however it is easiest to remember that all ALA records
are recorded at the local time of their location, and all times are then treated as effectively
being UTC times.</p>
<p>The upshot of this specific formatting is that, for instance, the time I am writing this paragraph,
4:26pm on the 2nd of August 2023, would be represented as “2023-08-02T16:26:44Z” in the ALA,
even though officially my timezone is “+0930”.</p>
<p>Because <code class="docutils literal notranslate"><span class="pre">eventDate</span></code> specifies the time to seconds, it is recommended that greater or less than
queries are used rather than exact matches. When used with <code class="docutils literal notranslate"><span class="pre">filters</span></code>, we can easily identify
how many records of the humpback whale (<em>Megaptera novaeangliae</em>) have occurred since the species
was removed from the Australian threatened species list on 26/02/2022.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">galah</span><span class="o">.</span><span class="n">atlas_counts</span><span class="p">(</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">taxa</span><span class="o">=</span><span class="s2">&quot;Megaptera novaeangliae&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">filters</span><span class="o">=</span><span class="s2">&quot;eventDate&gt;=2022-02-26T00:00:00Z&quot;</span></span>
<span class="prompt1"><span class="o">...</span> <span class="p">)</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   totalRecords
0         10771
</pre></div>
</div>
<p>It can be unintuitive to provide dates in this format. Luckily, it is straightforward to convert
dates into the ISO 8601 International Date Standard format using the <code class="docutils literal notranslate"><span class="pre">{datetime</span></code> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="c1"># convert the date September 22nd 2005 at 8:45pm to ISO 8601</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="c1"># note the order is year,month,day,hours,minutes,seconds,milliseconds</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2005</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">45</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>2005-09-22T20:45:00
</pre></div>
</div>
<p>After sending a query, any outputted eventDate values returned by a galah query will be of date
class “POSIXct”.</p>
</section>
<section id="upload-dates">
<h2>Upload dates<a class="headerlink" href="#upload-dates" title="Link to this heading">#</a></h2>
<p>The other important date field present in the ALA pertains to the date that the record was
provided to the ALA. This field is called <code class="docutils literal notranslate"><span class="pre">firstLoadedDate</span></code> and is formatted in exactly the same
manner as <code class="docutils literal notranslate"><span class="pre">eventDate</span></code>.</p>
<p>Different data providers provide batches of records to the ALA at different intervals.
iNaturalist Australia provide weekly uploads of data, while eBird provides yearly uploads.
<code class="docutils literal notranslate"><span class="pre">firstLoadedDate</span></code> can be especially useful for finding new records to the ALA that have been
provided since you last checked. For instance, we can use it to see how many observations of
Sulphur-Crested Cockatoos recorded in the first week of 2023 were actually loaded into the
ALA by the following week:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="c1"># Total records of Cactua galerita in Jan1-7</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">galah</span><span class="o">.</span><span class="n">atlas_counts</span><span class="p">(</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">taxa</span><span class="o">=</span><span class="s2">&quot;Cacatua galerita&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">filters</span><span class="o">=</span><span class="p">[</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;eventDate&gt;=2023-01-07T00:00:00Z&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;eventDate&lt;2023-01-08T00:00:00Z&quot;</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="p">]</span></span>
<span class="prompt1"><span class="o">...</span> <span class="p">)</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   totalRecords
0           408
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="c1"># Records of Cactua galerita uploaded in Jan 1-14</span></span>
<span class="prompt1"><span class="o">&gt;&gt;&gt;</span> <span class="n">galah</span><span class="o">.</span><span class="n">atlas_counts</span><span class="p">(</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">taxa</span><span class="o">=</span><span class="s2">&quot;Cacatua galerita&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="n">filters</span><span class="o">=</span><span class="p">[</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;eventDate&gt;=2023-01-07T00:00:00Z&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;eventDate&lt;2023-01-08T00:00:00Z&quot;</span><span class="p">,</span></span>
<span class="prompt1"><span class="o">...</span>         <span class="s2">&quot;firstLoadedDate&lt;2023-01-15T00:00:00Z&quot;</span></span>
<span class="prompt1"><span class="o">...</span>     <span class="p">]</span></span>
<span class="prompt1"><span class="o">...</span> <span class="p">)</span></span>
</pre></div></div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   totalRecords
0             5
</pre></div>
</div>
<p>Note that no lower bound is required for <code class="docutils literal notranslate"><span class="pre">firstLoadedDate</span></code> because <code class="docutils literal notranslate"><span class="pre">eventDate</span></code> imposes that by proxy
(records can’t be uploaded before they’ve occurred).</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Spatial_Filtering.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Spatial filtering</p>
      </div>
    </a>
    <a class="right-next"
       href="../apidocs/galah.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">API Docs</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#year-month-and-day">Year, Month and Day</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#occurrence-dates">Occurrence dates</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upload-dates">Upload dates</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Atlas of Living Australia.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>